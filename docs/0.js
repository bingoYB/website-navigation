(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[0],{

/***/ "./node_modules/text-loader/index.js!./src/template/item.tpl":
/*!**********************************************************!*\
  !*** ./node_modules/text-loader!./src/template/item.tpl ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"block block-list\\\">\\r\\n  {{#each this}}\\r\\n  <section class=\\\"section\\\" data-title=\\\"{{title}}\\\">\\r\\n    <div class=\\\"title\\\">\\r\\n      {{!-- <div class=\\\"title-icon\\\"><i class=\\\"iconfont {{icon}}\\\"></i></div> --}}\\r\\n      <h2 class=\\\"title-text\\\">{{title}}</h2>\\r\\n    </div>\\r\\n    <div class=\\\"list\\\">\\r\\n      <div class=\\\"card-wrapper\\\">\\r\\n        <div class=\\\"pure-g\\\">\\r\\n          {{#each item}}\\r\\n          <div class=\\\"pure-u-lg-1-4 pure-u-md-1-3 pure-u-sm-23-24 pure-u-1-2\\\">\\r\\n            <div class=\\\"card hint--bottom hint--bounce hint--medium\\\" aria-label=\\\"{{desc}}\\\">\\r\\n              {{#if disabled}}\\r\\n              <div class=\\\"diabled-item-badge\\\">失效</div>\\r\\n              {{/if}}\\r\\n              <a href=\\\"{{url}}\\\" rel=\\\"nofollow\\\" target=\\\"_blank\\\" class=\\\"card-default  {{#if disabled}}web-disabled{{/if}}\\\">\\r\\n                <div>\\r\\n                  <img class=\\\"card-icon\\\" alt=\\\"loading\\\" data-src=\\\"{{icon}}\\\" onerror=\\\"CONF.getWebsiteIcon(this)\\\">\\r\\n                  <div class=\\\"card-main\\\">\\r\\n                    <div class=\\\"card-name\\\">\\r\\n                      {{name}}\\r\\n                    </div>\\r\\n                    <div style=\\\"width:100%;\\\">\\r\\n                      <div class=\\\"card-des\\\">{{desc}}</div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </a>\\r\\n            </div>\\r\\n          </div>\\r\\n          {{/each}}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </section>\\r\\n  {{/each}}\\r\\n</div>\"\n\n//# sourceURL=webpack:///./src/template/item.tpl?./node_modules/text-loader");

/***/ }),

/***/ "./node_modules/text-loader/index.js!./src/template/searchResult.tpl":
/*!******************************************************************!*\
  !*** ./node_modules/text-loader!./src/template/searchResult.tpl ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<ul>\\r\\n  {{#each local}}\\r\\n  <li class=\\\"local-data\\\">\\r\\n    <div class=\\\"result-icon\\\">\\r\\n      <i style=\\\"background-image: url({{icon}}),url(img/404-1.png);\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"result-text\\\">\\r\\n      <span>{{name}}</span>\\r\\n      <span class=\\\"desc\\\">- {{desc}}</span>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"result-url\\\" data-url=\\\"{{url}}\\\">\\r\\n      - {{url}}\\r\\n    </div>\\r\\n  </li>\\r\\n  {{/each}}\\r\\n  {{#each engine}}\\r\\n  <li>\\r\\n    <div class=\\\"result-icon\\\">\\r\\n      <i class=\\\"engine-icon\\\" style=\\\"background-image: url(img/searchBtn.png?v=2.0);\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"result-text\\\">\\r\\n      <span>{{Txt}}</span>\\r\\n    </div>\\r\\n    <div class=\\\"result-type\\\">\\r\\n      - {{../type}}搜索\\r\\n    </div>\\r\\n  </li>\\r\\n  {{/each}}\\r\\n</ul>\"\n\n//# sourceURL=webpack:///./src/template/searchResult.tpl?./node_modules/text-loader");

/***/ }),

/***/ "./src/data/often.json":
/*!*****************************!*\
  !*** ./src/data/often.json ***!
  \*****************************/
/*! exports provided: 0, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"[{\\\"title\\\":\\\"综合\\\",\\\"icon\\\":\\\"icon-router\\\",\\\"item\\\":[{\\\"tag\\\":\\\"资讯\\\",\\\"url\\\":\\\"https://tophub.today/\\\",\\\"icon\\\":\\\"https://tophub.today/favicon.ico\\\",\\\"name\\\":\\\"今日热榜\\\",\\\"desc\\\":\\\"今日热榜提供各站热点聚合：微信、今日头条、百度、知乎、V2EX、微博、贴吧、豆瓣、天涯、虎扑、Github、华尔街见闻...全网新闻热点排行榜服务。\\\"},{\\\"url\\\":\\\"https://weibo.com/u/3816118370/home?topnav=1&wvr=6\\\",\\\"icon\\\":\\\"https://weibo.com/favicon.ico\\\",\\\"name\\\":\\\"微博\\\",\\\"desc\\\":\\\"随时随地发现新鲜事\\\"},{\\\"url\\\":\\\"https://github.com/\\\",\\\"icon\\\":\\\"https://github.githubassets.com/favicon.ico\\\",\\\"name\\\":\\\"github\\\",\\\"desc\\\":\\\"开源代码库\\\"},{\\\"url\\\":\\\"https://www.zhihu.com/\\\",\\\"icon\\\":\\\"https://uploads.moulem.com/id0siteimg/z204.png\\\",\\\"name\\\":\\\"知乎\\\",\\\"desc\\\":\\\"有问题，上知乎\\\"},{\\\"url\\\":\\\"https://www.huxiu.com/\\\",\\\"icon\\\":\\\"https://www.huxiu.com/favicon.ico\\\",\\\"name\\\":\\\"虎嗅\\\",\\\"desc\\\":\\\"科技资讯,商业评论,明星公司,动态,宏观,趋势,创业,精选,有料,干货,有用,细节,内幕\\\"},{\\\"url\\\":\\\"https://juejin.im/timeline\\\",\\\"icon\\\":\\\"https://b-gold-cdn.xitu.io/favicons/v2/favicon.ico\\\",\\\"name\\\":\\\"掘金\\\",\\\"desc\\\":\\\"前端社区\\\"},{\\\"url\\\":\\\"http://www.nicotv.me/\\\",\\\"icon\\\":\\\"http://img.kingsnug.cn/favicon.ico\\\",\\\"name\\\":\\\"妮可\\\",\\\"desc\\\":\\\"宅男腐女们最喜爱的动漫交流互动平台\\\"},{\\\"url\\\":\\\"https://segmentfault.com/\\\",\\\"icon\\\":\\\"https://segmentfault.com/favicon.ico\\\",\\\"name\\\":\\\"SegmentFault思否\\\",\\\"desc\\\":\\\"SegmentFault 思否 为开发者提供问答、学习与交流编程知识的平台，创造属于开发者的时代！\\\"}]}]\");\n\n//# sourceURL=webpack:///./src/data/often.json?");

/***/ }),

/***/ "./src/page/home.js":
/*!**************************!*\
  !*** ./src/page/home.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__,\r\n  __webpack_require__(/*! text-loader!../template/item.tpl */ \"./node_modules/text-loader/index.js!./src/template/item.tpl\"),\r\n  __webpack_require__(/*! ../script/search */ \"./src/script/search.js\"),\r\n  __webpack_require__(/*! text-loader!../template/searchResult.tpl */ \"./node_modules/text-loader/index.js!./src/template/searchResult.tpl\"),\r\n  __webpack_require__(/*! ../script/utils */ \"./src/script/utils.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (require, tpl, s, searchTpl,ut) {\r\n  'use strict';\r\n  let searchUrl = {\r\n    '百度': 'https://www.baidu.com/s?wd=',\r\n    '必应': 'https://cn.bing.com/search?q=',\r\n    'Google': 'https://www.google.com/search?q='\r\n  };\r\n    \r\n  const imgUrls = {\r\n    '百度': 'img/scbaidu.png',\r\n    '必应': 'img/scbing.png',\r\n    'Google': 'img/scgoogle.png'\r\n  }\r\n\r\n  // 搜索类型（百度，谷歌，必应）\r\n  let searchRst = {\r\n    type: localStorage.getItem('searchType')||'百度'\r\n  }\r\n\r\n  $('.sChoiceBtn').css('background', 'url(' + imgUrls[searchRst.type] + ')')\r\n\r\n  let suggestUrl = '//api.bing.com/qsonhs.aspx'\r\n\r\n\r\n  // 搜索引擎返回处理\r\n  window.dealSearchReturn = (datas) => {\r\n    console.log(datas)\r\n    if(datas.AS.FullResults){\r\n      console.log(datas.AS.Results[0].Suggests)\r\n      searchRst.engine = datas.AS.Results[0].Suggests\r\n      Interactive.loadRst()\r\n    }\r\n  }\r\n\r\n  const isVisible = (el, parent) => {\r\n    let sTop = parent.scrollTop()\r\n    let offsetTop = el[0].offsetTop\r\n    let elHeight = el.outerHeight();\r\n    let pHeight = parent.height()\r\n    if (sTop + pHeight > offsetTop + elHeight && sTop < offsetTop) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  // 页面交互事件\r\n  let Interactive = {\r\n    searchKeydown() {\r\n      $('#search').on('keyup', function (e) {\r\n        let rs = $('.search-result')\r\n        let active = $('.search-result li.active')\r\n        let next = active.next()\r\n        let prev = active.prev()\r\n        let first = $('.search-result li:first')\r\n        let last = $('.search-result li:last')\r\n        // 回车\r\n        if (event.which == 13) {\r\n          Interactive.searchEnter();\r\n        }\r\n        //按下下方向键\r\n        else if (event.which == 40) {\r\n          active.length ? active.removeClass('active') : ''\r\n          if (active.length && next.length) {\r\n            if (!isVisible(next, rs)) {\r\n              rs[0].scrollTop = next[0].offsetTop - 6 * 40\r\n            }\r\n            next.addClass('active')\r\n          } else {\r\n            if (!isVisible(first, rs)) {\r\n              rs[0].scrollTop = '0'\r\n            }\r\n            first.addClass('active')\r\n          }\r\n        }\r\n        //按下上方向键\r\n        else if (event.which == 38) {\r\n          active.length ? active.removeClass('active') : ''\r\n          if (active.length && prev.length) {\r\n            if (!isVisible(prev, rs)) {\r\n              rs[0].scrollTop = prev[0].offsetTop\r\n            }\r\n            prev.addClass('active')\r\n          } else {\r\n            if (!isVisible(last, rs)) {\r\n              rs[0].scrollTop = rs.height()\r\n            }\r\n            last.addClass('active')\r\n          }\r\n        }\r\n      });\r\n\r\n      $('#search').on('input',ut.debounce(se,100))\r\n\r\n      function se(e) {\r\n        let searchText = this.value\r\n\r\n        if (searchText == '') {\r\n          $('.search-result').hide()\r\n          return\r\n        }\r\n        $('.search-result').show()\r\n\r\n        searchRst.local = s.search(searchText)\r\n\r\n        // http://api.bing.com/qsonhs.aspx?type=cb&q=#content#&cb=window.bing.sug\r\n        $.ajax({\r\n          url: suggestUrl,\r\n          type: \"GET\",\r\n          dataType: \"jsonp\",\r\n          jsonp: 'jsoncallback',\r\n          async: false,\r\n          timeout: 5000,//请求超时\r\n          data: {\r\n            type: 'cb',\r\n            q: searchText,\r\n            cb: 'dealSearchReturn'\r\n            // \"wd\": searchText,\r\n            // \"cb\": \"dealSearchReturn\"\r\n          }\r\n        });\r\n      }\r\n    },\r\n    searchEnter() {\r\n      let active = $('.search-result li.active')\r\n      if (active.length) {\r\n        active.click()\r\n      } else {\r\n        let url = searchUrl[searchRst.type] + $('#search').val()\r\n        window.open(url, '_blank');\r\n      }\r\n    },\r\n    changeSearch() {\r\n      $('.sChoiceBtn').on('click', function (e) {\r\n        $('.scBigBox').css({\r\n          display: 'block',\r\n          height: '160px'\r\n        });\r\n      });\r\n\r\n      $('.scBigBox').on('click', '.scSmallBox', function (e) {\r\n        let imgUrl = $(this).find('img')[0].src\r\n        $('.sChoiceBtn').css('background', 'url(' + imgUrl + ')')\r\n        $('.scBigBox').hide()\r\n        searchRst.type = $(this).find('span').text()\r\n        // 缓存此次选择结果，方便下次打开依旧此选项\r\n        localStorage.setItem('searchType', searchRst.type);\r\n      });\r\n    },\r\n\r\n    loadRst() {\r\n      //预编译模板\r\n      let template = Handlebars.compile(searchTpl)\r\n      //匹配json内容\r\n      let html = template(searchRst)\r\n      //输入模板\r\n      $('.search-result').html(html)\r\n    },\r\n\r\n    rstClick() {\r\n      $('.search-result').on('click', 'li', function (e) {\r\n        e.stopPropagation()\r\n        let islocal = $(this).hasClass('local-data')\r\n        let url = ''\r\n        if (islocal) {\r\n          url = $(this).find('.result-url').data('url')\r\n        } else {\r\n          url = searchUrl[searchRst.type] + $(this).find('.result-text span').text()\r\n        }\r\n        window.open(url, '_blank');\r\n      })\r\n\r\n      $('#container').on('click', function () {\r\n        $('.search-result').hide()\r\n      })\r\n    },\r\n\r\n    searchClick() {\r\n      $('#searchBtn').on('click', function (e) {\r\n        Interactive.searchEnter()\r\n      })\r\n    }\r\n  }\r\n\r\n  // 页面加载渲染\r\n  let Render = {\r\n    getOften() {\r\n      let data = __webpack_require__(/*! ../data/often.json */ \"./src/data/often.json\")\r\n      //预编译模板\r\n      var template = Handlebars.compile(tpl)\r\n      //匹配json内容\r\n      let html = template(data)\r\n      //输入模板\r\n      $('.often').html(html)\r\n\r\n      ut.lazyLoad({\r\n        content: window,\r\n        imgs: $('.often')[0].querySelectorAll('img')\r\n      })\r\n\r\n\r\n      $('#header-title').find('h1').html('首页')\r\n      $('#header-title').find('.iconfont').removeClass().addClass('iconfont icon-shouye')\r\n    }\r\n  }\r\n\r\n  return function () {\r\n    Render.getOften()\r\n    Interactive.searchKeydown()\r\n    Interactive.changeSearch()\r\n    Interactive.rstClick()\r\n    Interactive.searchClick()\r\n  }\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./src/page/home.js?");

/***/ }),

/***/ "./src/script/search.js":
/*!******************************!*\
  !*** ./src/script/search.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__,\r\n  __webpack_require__(/*! ./data */ \"./src/script/data.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (require, data) {\r\n  'use strict';\r\n  class search {\r\n    constructor(data, option) {\r\n      this.option = option ? option : {}\r\n      this.queryArrayMap = data.index\r\n      // this.datainit(data)\r\n    }\r\n\r\n    search(v) {\r\n      console.time('搜索时间:')\r\n      let results = []\r\n      // 等同于使用map.entries()\r\n      for (let [key, value] of this.queryArrayMap) {\r\n        if (value.match(v)) {\r\n          results.push(key)\r\n        }\r\n      }\r\n      console.timeEnd('搜索时间:')\r\n      return results\r\n    }\r\n\t\t// 相当于建立索引\r\n    datainit(data) {\r\n      let m = this.queryArrayMap = new Map()\r\n      for (const key in data) {\r\n        const el = data[key].sub\r\n        for (let i = 0; i < el.length; i++) {\r\n          const item = el[i].item\r\n          for (let j = 0; j < item.length; j++) {\r\n            const meta = item[j];\r\n            let querystr = ''\r\n            let sks = this.option.searchKeys ? this.option.searchKeys : Object.keys(meta)\r\n            sks.forEach((k) => {\r\n              if (meta.hasOwnProperty(k))\r\n                querystr += \" \" + meta[k]\r\n            })\r\n            m.set(meta, querystr)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return new search(data)\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./src/script/search.js?");

/***/ }),

/***/ "./src/script/utils.js":
/*!*****************************!*\
  !*** ./src/script/utils.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__,\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (require, factory) {\r\n  'use strict';\r\n  return {\r\n    /**\r\n    * 频率控制 返回函数连续调用时，action 执行频率限定为 次 / delay\r\n    * @param delay  {number}    延迟时间，单位毫秒\r\n    * @param action {function}  请求关联函数，实际应用需要调用的函数\r\n    * @return {function}    返回客户调用函数\r\n    */\r\n    throttle(fn, mustRun = 100) {\r\n      const timer = null;\r\n      let previous = null;\r\n      const context = this;\r\n      return function () {\r\n        const now = new Date();\r\n        const args = arguments;\r\n        if (!previous) {\r\n          previous = now;\r\n        }\r\n        const remaining = now - previous;\r\n        if (mustRun && remaining >= mustRun) {\r\n          fn.apply(context, args);\r\n          previous = now;\r\n        }\r\n      }\r\n    },\r\n    /**\r\n    * 空闲控制 返回函数连续调用时，空闲时间必须大于或等于 idle，action 才会执行\r\n    * @param idle   {number}    空闲时间，单位毫秒\r\n    * @param action {function}  请求关联函数，实际应用需要调用的函数\r\n    * @return {function}    返回客户调用函数\r\n    */\r\n    debounce(action, idle) {\r\n      if (typeof action != 'function') {\r\n        throw new TypeError('Expected a function')\r\n      }\r\n      let timer = null\r\n      return function () {\r\n        let context = this\r\n        let arg = arguments\r\n        if (timer) {\r\n          clearTimeout(timer)\r\n        }\r\n        timer = setTimeout(() => {\r\n          action.apply(context, arg)\r\n        }, idle)\r\n      }\r\n    },\r\n\r\n    lazyLoad(options){\r\n      let { content, imgs = [] } = options\r\n      let index = 0\r\n      checkImgs()\r\n      content.onscroll = this.throttle(checkImgs)\r\n\r\n      function isInSight(el) {\r\n        const bound = el.getBoundingClientRect();\r\n        const clientHeight = window.innerHeight;\r\n        //如果只考虑向下滚动加载\r\n        //const clientWidth=window.innerWeight;\r\n        return bound.top <= clientHeight;\r\n      }\r\n\r\n      function loadImg(el) {\r\n        if (!el.src) {\r\n          const source = el.dataset.src;\r\n          el.src = source;\r\n        }\r\n      }\r\n\r\n      function checkImgs() {\r\n        for (let i = index; i < imgs.length; i++) {\r\n          if (isInSight(imgs[i])) {\r\n            loadImg(imgs[i]);\r\n            index = i;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./src/script/utils.js?");

/***/ })

}]);